<!DOCTYPE html>
<html>
<head>
    <title>Wishlist</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/js/select2.min.js"></script>
</head>

<style>
    /* Styling for the user library table */
    table {
        border-collapse: collapse;
        width: 100%;
    }

    th, td {
        text-align: left;
        padding: 8px;
        border-bottom: 1px solid #ddd;
    }

    tr:nth-child(even) {
        background-color: #f2f2f2;
    }

    /* Styling for the main content */
    h1 {
        margin-top: 20px;
    }

    h2 {
        margin-top: 30px;
    }

    form {
        margin-top: 20px;
    }

    #add-game-form {
        display: none;
    }
</style>

<body>
    {% include 'navbar.html' %}

    <h1>Wishlist</h1>
    <table>
        <tr>
            <th>Priority</th>
            <th>Game Name</th>
            <th>Genre</th>
            <th>Platform</th>
            <th>Price</th>
        </tr>
        {% for item in wishlist %}
        <tr>
            <td>{{ item[0] }}</td>  <!-- Change how you access the item fields -->
            <td>{{ item[1] }}</td>
            <td>{{ item[2] }}</td>
            <td>{{ item[3] }}</td>
            <td>{{ item[4] }}</td>
        </tr>
        {% endfor %}
    </table>

    <h2>Add New Game</h2>
    <form method="POST">
        {{ form.hidden_tag() }}
        <p>{{ form.game.label }}: {{ form.game(id="select2") }}</p>
        <p>{{ form.priority.label }}: {{ form.priority() }}</p>
        <p>{{ form.submit() }}</p>
    </form>

    
    <!-- Initialize Select2 -->
    <script>
    $(document).ready(function() {
        $('#select2').select2();
    });
    </script>
</body>
</html>
